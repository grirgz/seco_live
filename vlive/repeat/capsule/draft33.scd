Pdef.defaultQuant = 2;

(
Pdef(\part, Pdef(\plop, 
	Pseq([
		Pfindur(4+inf, Ppar([
			// perc

			Pbind(
				\instrument, \phyhat4,
				\isRest, Pseq([
					1,0,1,0, 1,0,1,0, 
					1,0,1,0, 1,0,1,0, 
					0,0,0,0, 0,0,0,0,
					0,0,0,0, 0,0,0,0,
				],inf).coin.not,
				\sustain, Pseq([0.08,0.02],inf),
				\fac1, Pseq([2,0.5,0.7,0.5]*0.5,inf),
				\pan, Pseq([0.2,0.1,0,-0.1],inf),
				\fac1, Pseq([
					0.4, 0.1, 0.2, 0.1,
				],inf),
				\dur, 1/16,
				//\dur, 1/16 * Pseq([4/3,2/3],inf).stutter(2),
				\pan, 0,
				\amp, 0.02,
			),
			Pbind(\out, BusDef(\fx1))<>
			Ppar([
						Pbind(
							\instrument, \snapkickx,
							\bodyenv, [ Env.linen(0.001,0.01,0.1) ],
							\bodyfreqenv, [ Env([261, 54, 41], [0.035, 0.08], curve: \exp) ],
							\isRest, Pseq([
								1,0,0,0, 0,0,1,0,
							],inf).coin.not,
							//\dur, 1/8 * Pseq([4/3,2/3],inf),
							\dur, 1/16,
							\amp, 0.1,
						),
			]),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 5,
					\isRest, Pseq([
						0,0,0,0, 1,0,0,0,
						0,0,0,0, 1,0,0,0,
						0,0,1,0, 1,0,0,1,
						0,0,0,0, 1,0,0,0,
					],inf).coin.not,
				\out, BusDef(\fx2, \audio),
					\sustain, 0.1,
					\gain, 0.4,
					\dur, 1/8,
				)),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 4,
					\isRest, Pseq([
						0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,1,
					],inf).coin.not,
					\out, BusDef(\fx2, \audio),
					\sustain, 0.1/2,
					\gain, 0.4,
					\dur, 1/16,
				)),
				

			// treb

		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,0,0,0, 1,0,0,0,
				1,0,0,0, 1,0,0,0,
				1,0,0,0, 1,0,1,0,
				1,0,0,0, 1,1,1,1,
			],inf),
			\freq, ~pmodenv.(Pseq([1,2,1,4, 1/2,1/3,1/34,1/2]*1000,inf), 1/8),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
			\out, BusDef(\fx3, \audio),
			\amp, 0.1/3,
		),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,3,0,0,
			],inf),
			\freq, ~pmodenv.(Pseq([4,3,1,4]*400,inf), 1/4),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
			\out, BusDef(\fx3, \audio),
			\amp, 0.1/3,
		),
		Pmono(\memefx,
			\inbus, BusDef(\fx3, \audio),
			\out, BusDef(\fx3s, \audio),
			\fb, 0.04,
			\freq, Pseg(Pseq([0,1,10],inf),8)*200,
			\freq, Pseq([
				50,4000,
				50,2000,
			],inf),
			\freq, Pseq([
				~pmodenv.(Pseq([10,2000],1), 2),
				~pmodenv.(Pseq([12000,120],1), 2),
			],inf),
			\shift, Pseg(Pseq([0,1],inf),8)*200,
			\shift, Pseq([
				100,100,-100,
			],inf),
			\mix, 0.5,
			\dur, 1/4,
			\amp, 0.1,
		),
			Pmono(\fx_stutter,
				\freq, 200,
				\inbus, BusDef(\fx3s, \audio),
				\out, BusDef(\fx2, \audio),
				\mix, Pseq([
					0,0,0,0,
					0,0,0,1,
					0,1,0,1,
					0,0,0,1,
				],inf),
				\time, Pstep(Pseq([
					1/16, 1/16, 1/16, 1/16,
					1/16, 1/16, 1/16, 1/16,
					1/6, 1/10, 1/13, 1/6,
					1/16, 1/16, 1/16, 1/16,
				],inf),1/4)/~t,
				\fb, 0.1,
				\dur, Pser([1/4],inf),
				\amp, 0.1,
			),

			// fx

				Pmono(\ronordn,
					\inbus, BusDef(\fx1, \audio),
					'wet10', 1.0,
					'mix', 0.52100840336134,
					'gain', 0.24454369503751,
					'fb', 0.01201 * Pseq([
						1/50,1/20
					],inf),
					'delay', 0.000010394574653723,
					'delay2', 0.0000828221925227,
					'delay3', 0.00001,
					'distamp', 0.92682721311638,
					'distamp2', 001.0,
					'distamp3', 1.9904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0.15966386554622,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 17,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1 * Pseq([1],inf),
				),
				Pmono(\ronordn,
					\inbus, BusDef(\fx2, \audio),
					'wet10', 1.0,
					'mix', 0.52100840336134,
					'gain', 0.24454369503751,
					'fb', 0.00101,
					'delay', 0.000000394574653723,
					'delay2', 0.00010828221925227,
					'delay3', 0.000001,
					'distamp', 1.12682721311638,
					'distamp2', 1.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1 * Pseq([1],inf),
					\out, BusDef(\fxrev, \audio),
				),
			Pmono(\fx_reverb,
				\inbus, BusDef(\fxrev, \audio),
				\freq, 200,
				\mix, 0.3,
				\gain, 1.2,
				\fb, 0.1,
				\dur, Pser([1],inf),
				\amp, 0.1,
			),
		])),
	])
)).play;
)



(
Pdef(\part, Pdef(\plop, 
	Pseq([
		Pfindur(4+inf, Ppar([
			// perc

			Pbind(
				\instrument, \phyhat4,
				\isRest, Pseq([
					1,0,1,0, 1,0,1,0, 
					1,0,1,0, 1,0,1,0, 
					0,0,0,0, 0,0,0,0,
					0,0,0,0, 0,0,0,0,
				],inf).coin.not,
				\sustain, Pseq([0.08,0.02],inf),
				\fac1, Pseq([2,0.5,0.7,0.5]*0.5,inf),
				\pan, Pseq([0.2,0.1,0,-0.1],inf),
				\fac1, Pseq([
					0.4, 0.1, 0.2, 0.1,
				],inf),
				\dur, 1/16,
				//\dur, 1/16 * Pseq([4/3,2/3],inf).stutter(2),
				\pan, 0,
				\amp, 0.02,
			),
			Pbind(\out, BusDef(\fx1))<>
			Ppar([
				Pbind(
					\isRest, true,
				),
			]),
						Pbind(
							\instrument, \snapkickx,
							\bodyenv, [ Env.linen(0.001,0.01,0.1) ],
							\bodyfreqenv, [ Env([261, 54, 41], [0.035, 0.08], curve: \exp) ],
							\isRest, Pseq([
								1,0,0,0, 0,0,1,0,
							],inf).coin.not,
							//\dur, 1/8 * Pseq([4/3,2/3],inf),
							\dur, 1/16,
							\amp, 0.1,
						),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 5,
					\isRest, Pseq([
						0,0,0,0, 1,0,0,0,
						0,0,0,0, 1,0,0,0,
						0,0,1,0, 1,0,0,1,
						0,0,0,0, 1,0,0,0,
					],inf).coin.not,
				\out, BusDef(\fx2, \audio),
					\sustain, 0.1,
					\gain, 0.4,
					\dur, 1/8,
				)),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 4,
					\isRest, Pseq([
						0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,1,
					],inf).coin.not,
					\out, BusDef(\fx2, \audio),
					\sustain, 0.1/2,
					\gain, 0.4,
					\dur, 1/16,
				)),
				

			// treb

		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,0,0,0, 1,0,0,0,
				1,0,0,0, 1,0,0,0,
				1,0,0,0, 1,0,1,0,
				1,0,0,0, 1,1,1,1,
			],inf),
			\freq, ~pmodenv.(Pseq([1,2,1,4, 1/2,1/3,1/34,1/2]*1000,inf), 1/8),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
			\out, BusDef(\fx3, \audio),
			\amp, 0.1/3,
		),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,3,0,0,
			],inf),
			\freq, ~pmodenv.(Pseq([4,3,1,4]*400,inf), 1/4),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
			\out, BusDef(\fx1, \audio),
			\amp, 0.1/3,
		),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,1,1,0, 1,0,0,1,
			],inf),
			\freq, ~pmodenv.(Pseq([70,60,80,65],inf), 1/2),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
			\out, BusDef(\fx3, \audio),
			\amp, 0.1/3,
		),
		Pmono(\memefx,
			\inbus, BusDef(\fx3, \audio),
			\out, BusDef(\fx3s, \audio),
			\fb, 0.04,
			\freq, Pseg(Pseq([0,1,10],inf),8)*200,
			\freq, Pseq([
				50,4000,
				50,2000,
			],inf),
			\freq, Pseq([
				~pmodenv.(Pseq([10,2000],1), 2),
				~pmodenv.(Pseq([12000,120],1), 2),
			],inf),
			\shift, Pseg(Pseq([0,1],inf),8)*200,
			\shift, Pseq([
				100,100,-100,
			],inf),
			\mix, 0.5,
			\dur, 1/4,
			\amp, 0.1,
		),
			Pmono(\fx_stutter,
				\freq, 200,
				\inbus, BusDef(\fx3s, \audio),
				\out, BusDef(\fx2, \audio),
				\mix, Pseq([
					0,0,0,0,
					0,0,0,1,
					0,1,0,1,
					0,0,0,1,
				],inf),
				\time, Pstep(Pseq([
					1/16, 1/16, 1/16, 1/16,
					1/16, 1/16, 1/16, 1/16,
					1/6, 1/10, 1/13, 1/6,
					1/16, 1/16, 1/16, 1/16,
				],inf),1/4)/~t,
				\fb, 0.1,
				\dur, Pser([1/4],inf),
				\amp, 0.1,
			),

			// fx

				Pmono(\ronordn,
					\inbus, BusDef(\fx1, \audio),
					'wet10', 1.0,
					'mix', 0.52100840336134,
					'gain', 0.24454369503751,
					'fb', 0.1201 * Pseq([
						1/10,
						1/200,
						1/200,
						1/200,
					],inf),
					'delay', 0.100010394574653723,
					'delay2', 0.1000828221925227,
					'delay3', 0.00001,
					'distamp', 0.92682721311638,
					'distamp2', 001.0 ,
					'distamp3', 1.9904517086311* Pseq([
						1,1,1,1,
						4,4,10,10,
					],inf),
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0.15966386554622,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 17,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				\out, BusDef(\fx1_stut, \audio),
				),
			Pmono(\fx_stutter,
				\freq, 200,
				\inbus, BusDef(\fx1_stut, \audio),
				\mix, Pseq([
					0,1,1,0,
					0,1,0,1,
				],inf),
				\time, Pstep(Pseq([
					1/16, 1/16, 1/16, 1/16,
					1/16, 1/16, 1/16, 1/16,
					1/6, 1/10, 1/13, 1/6,
					1/16, 1/16, 1/16, 1/16,
				],inf),1/4)/~t,
				\fb, 0.1,
				\dur, Pser([1/4],inf),
				\amp, 0.1,
			),
				Pmono(\ronordn,
					\inbus, BusDef(\fx2, \audio),
					'wet10', 1.0,
					'mix', 0.52100840336134,
					'gain', 0.24454369503751,
					'fb', 0.00101,
					'delay', 0.000000394574653723,
					'delay2', 0.00010828221925227,
					'delay3', 0.000001,
					'distamp', 1.12682721311638,
					'distamp2', 1.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1 * Pseq([1],inf),
					\out, BusDef(\fxrev, \audio),
				),
			Pmono(\fx_reverb,
				\inbus, BusDef(\fxrev, \audio),
				\freq, 200,
				\mix, 0.3,
				\gain, 1.2,
				\fb, 0.1,
				\dur, Pser([1],inf),
				\amp, 0.1,
			),
		])),
	])
)).play;
)



(
Pdef(\part, Pdef(\plop, 
	Ppar([
						Pbind(
							\instrument, \snapkickx,
							\bodyenv, [ Env.linen(0.001,0.01,0.1) ],
							\bodyfreqenv, [ Env([261, 64, 41], [0.035, 0.08], curve: \exp) ],
							\isRest, Pseq([
								1,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0, 
								0,0,1,0, 0,0,0,0, 0,0,1,1, 0,0,1,0, 
								1,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0, 
								0,0,1,0, 0,0,0,0, 0,0,1,0, 1,1,1,0, 
							],inf).coin.not,
							//\dur, 1/8 * Pseq([4/3,2/3],inf),
							\dur, 1/16,
							\amp, 0.1,
							\out, BusDef(\fx2),
						),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 5,
					\isRest, Pseq([
						0,0,0,0, 1,0,0,0,
						0,0,0,0, 1,0,0,0,
						0,0,0,0, 1,0,0,0,
					],inf).coin.not,
				\out, BusDef(\fx2, \audio),
					\sustain, 0.1,
					\gain, 0.4,
					\dur, 1/8,
				)),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,1,1,0, 1,0,0,1,
			],inf),
			\freq, ~pmodenv.(Pseq([70,60,80,65],inf), 1/2),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
				\out, BusDef(\fx1, \audio),
			\amp, 0.1/3,
		),
				Pmono(\ronordn,
					\inbus, BusDef(\fx1, \audio),
					'wet10', 1.0,
					'mix', 0.52100840336134,
					'gain', 0.24454369503751,
					'fb', 0.00101 * Pseq([
						1,1,1,1, 1,21,14,31,
					],inf),
					'delay', 0.600000394574653723,
					'delay2', 0.00010828221925227,
					'delay3', 0.000001,
					'distamp', 1.12682721311638,
					'distamp2', 1.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
				Pmono(\ronordn,
					\inbus, BusDef(\fx2, \audio),
					'wet10', 1.0,
					'mix', 0.52100840336134,
					'gain', 0.24454369503751,
					'fb', 0.00101 * Pseq([
						1,1,1,1, 1,21,14,31,
					],inf),
					'delay', 0.600000394574653723,
					'delay2', 0.00010828221925227,
					'delay3', 0.000001,
					'distamp', 1.12682721311638,
					'distamp2', 1.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
	])
)).play;
)


(
Pdef(\part, Pdef(\plop, 
	Ppar([
						Pbind(
							\instrument, \snapkickx,
							\bodyenv, [ Env.linen(0.001,0.01,0.1) ],
							\bodyfreqenv, [ Env([261, 54, 41], [0.035, 0.08], curve: \exp) ],
							\isRest, Pseq([
								1,0,0,0, 
							],inf).coin.not,
							//\dur, 1/8 * Pseq([4/3,2/3],inf),
							\dur, 1/16,
							\amp, 0.1,
							\out, BusDef(\fx2),
						),
				Pmono(\ronordn,
					\inbus, BusDef(\fx2, \audio),
					'wet10', 1.0,
					'mix', 0.82100840336134,
					'gain', 0.24454369503751,
					'fb', 0.02101 * Pseg(Pseq([0,2],inf),8),
					'delay', 0.000000394574653723,
					'delay2', 0.00110828221925227,
					'delay3', 0.000101,
					'distamp', 1.12682721311638,
					'distamp2', 1.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1/4 * Pseq([1],inf),
				),
	])
)).play;
)


(
Pdef(\part, Pdef(\plop, 
	Ppar([
						Pbind(
							\instrument, \snapkickx,
							\bodyenv, [ Env.linen(0.001,0.01,0.1) ],
							\bodyfreqenv, [ Env([261, 64, 41], [0.035, 0.08], curve: \exp) ],
							\isRest, Pseq([
								1,0,0,1, 0,0,1,0,
								1,0,1,0, 0,0,0,1,
								1,1,0,0, 0,1,0,1,
								1,0,0,0, 0,0,0,1,

								1,0,0,1, 0,0,1,0,
								1,0,1,0, 0,0,0,1,
								1,0,0,0, 0,0,0,0,
								1,0,0,0, 0,0,0,0,
							],inf).coin.not,
							//\dur, 1/8 * Pseq([4/3,2/3],inf),
							\dur, 1/16,
							\amp, 0.1,
							\out, BusDef(\fx2),
						),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 5,
					\isRest, Pseq([
						0,0,1,0, 0,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						0,1,0,1, 1,0,1,1, 

						0,0,1,0, 0,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						0,0,1,0, 1,0,1,1, 
					],inf).coin.not,
				\out, BusDef(\fx2, \audio),
					\sustain, 0.1,
					\gain, 0.4,
					\dur, 1/8,
				)),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,1,1,0, 1,0,0,1,
				1,1,1,0, 1,0,0,1,
				1,1,1,0, 1,0,0,1,
				1,1,2,0, 3,0,0,1,
			],inf),
			\freq, ~pmodenv.(Pseq([
				60,60,60,65, 60,60,60,65,
				60,60,60,65, 60,60,60,65,
				60,60,60,65, 60,60,60,65,
				60,60,160,165, 160,60,260,65,
			],inf), 1/8),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
			\amp, 0.08,
		),
				Pmono(\ronordn,
					\inbus, BusDef(\fx1, \audio),
					'wet10', 1.0,
					'mix', 0.52100840336134,
					'gain', 0.24454369503751,
					'fb', 0.00101 * Pseq([
						1,1,1,1, 1,21,14,31,
					],inf),
					'delay', 0.600000394574653723,
					'delay2', 0.00010828221925227,
					'delay3', 0.000001,
					'distamp', 1.12682721311638,
					'distamp2', 1.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
				Pmono(\ronordn,
					\inbus, BusDef(\fx2, \audio),
					'wet10', 1.0,
					'mix', 0.52100840336134,
					'gain', 0.24454369503751,
					'fb', 0.00101 * Pseq([
						1,1,1,1, 1,21,14,31,
					],inf),
					'delay', 0.600000394574653723,
					'delay2', 0.00010828221925227,
					'delay3', 0.000001,
					'distamp', 1.12682721311638,
					'distamp2', 1.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
	])
)).play;
)

(
Pdef(\part, Pdef(\plop, 
	Ppar([
						Pbind(
							\instrument, \snapkickx,
							\bodyenv, [ Env.linen(0.001,0.01,0.1) ],
							\bodyfreqenv, [ Env([261, 64, 41], [0.035, 0.08], curve: \exp) ],
							\isRest, Pseq([
								1,0,0,1, 0,0,1,0,
								1,0,1,0, 0,0,0,1,
								1,1,0,0, 0,1,0,1,
								1,0,0,0, 0,0,0,1,

								1,0,0,1, 0,0,1,0,
								1,0,1,0, 0,0,0,1,
								1,0,0,0, 0,0,0,0,
								1,0,0,0, 0,0,0,0,
							],inf).coin.not,
							//\dur, 1/8 * Pseq([4/3,2/3],inf),
							\dur, 1/16,
							\amp, 0.1,
							\out, BusDef(\fx2),
						),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 5,
					\isRest, Pseq([
						0,0,1,0, 0,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						0,1,0,1, 1,0,1,1, 

						0,0,1,0, 0,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						0,0,1,0, 1,0,1,1, 
					],inf).coin.not,
				\out, BusDef(\fx2, \audio),
					\sustain, 0.1,
					\gain, 0.4,
					\dur, 1/8,
				)),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,3,0,0, 1,0,0,1,
				4,0,0,0, 3,0,0,1,
				1,1,1,0, 1,0,0,1,
				1,1,2,0, 3,0,0,1,
			],inf),
			\freq, ~pmodenv.(Pseq([
				60,60,560,465, 760,60,260,65,
			],inf), 1/8),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\out, BusDef(\fx1, \audio),
			\dur, 1/8,
			\amp, 0.08,
		),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				2,0,
			],inf),
			\freq, ~pmodenv.(Pseq([
				260,1165,
			]+1000,inf), 1/2),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
			\out, BusDef(\fx1, \audio),
			\amp, 0.08,
		),
				Pmono(\ronordn,
					\inbus, BusDef(\fx1, \audio),
					'wet10', 1.0,
					'mix', 0.52100840336134,
					'gain', 0.24454369503751,
					'fb', 0.0031 * Pseq([
						1,1/100,
					],inf),
					'delay', 0.600000394574653723,
					'delay2', 1.00010828221925227 * Pseg(Pseq([1/1000,1],inf),1/2),
					'delay3', 1.000001* Pseg(Pseq([1/1000,1],inf),1/2),
					'distamp', 1.12682721311638,
					'distamp2', 1.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
				Pmono(\ronordn,
					\inbus, BusDef(\fx2, \audio),
					'wet10', 1.0,
					'mix', 0.52100840336134,
					'gain', 0.24454369503751,
					'fb', 0.00101 * Pseq([
						1,1,1,1, 1,21,14,31,
						21,1,21,1, 23,1,4,1,
					],inf),
					'delay', 0.600000394574653723,
					'delay2', 0.00010828221925227,
					'delay3', 0.000001,
					'distamp', 1.12682721311638,
					'distamp2', 1.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 6000,
					\eqrq1b, 0.6,
					\eqdb1b, 1.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
	])
)).play;
)

/////////////////


(
Pdef(\part, Pdef(\plop, 
	Ppar([
						Pbind(
							\instrument, \snapkickx,
							\bodyenv, [ Env.linen(0.001,0.01,0.1) ],
							\bodyfreqenv, [ Env([261, 64, 41], [0.035, 0.08], curve: \exp) ],
							\isRest, Pseq([
								1,0,0,0, 0,0,0,0,
								0,0,0,0, 0,0,0,0,
								1,0,0,0, 0,0,1,0,
								0,0,1,0, 0,0,1,0,
							],inf).coin.not,
							//\dur, 1/8 * Pseq([4/3,2/3],inf),
							\dur, 1/16,
							\amp, 0.2,
							\out, BusDef(\fx2),
						),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 5,
					\isRest, Pseq([
						0,0,0,0, 1,0,0,0,
					],inf).coin.not,
				\out, BusDef(\fx1, \audio),
					\sustain, 0.1,
					\gain, 0.4,
					\dur, 1/8,
				)),
			Pbind(
				\instrument, \phyhat3,
				\isRest, Pseq([
					1,0,1,0, 1,0,0,0, 
					1,0,1,0, 1,0,1,0, 
					1,0,1,1, 1,0,1,0, 
					1,0,1,0, 1,0,1,0, 
					1,0,0,0, 1,0,1,0, 
					1,0,1,0, 1,0,1,0, 
				],inf).coin.not,
				\sustain, Pseq([0.08,0.02],inf),
				\fac1, Pseq([2,0.5,0.7,0.5]*0.5,inf),
				\pan, Pseq([0.2,0.1,0,-0.1],inf),
				\fac1, Pseq([
					0.4, 0.1, 0.2, 0.1,
				],inf),
				\dur, 1/16,
				\out, BusDef(\fx3, \audio),
				//\dur, 1/16 * Pseq([4/3,2/3],inf).stutter(2),
				\pan, 0,
				\amp, 0.02,
			),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,3,0,0, 1,0,0,1,
				4,0,0,0, 3,0,0,1,
				1,1,1,0, 1,0,0,1,
				1,1,2,0, 3,0,0,1,
			],inf),
			\freq, ~pmodenv.(Pseq([
				60,60,560,465, 760,60,260,65,
			],inf), 1/8),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\out, BusDef(\fx1, \audio),
			\dur, 1/8,
			\amp, 0.08,
					\isRest, true,
		),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				2,0,
			],inf),
			\freq, ~pmodenv.(Pseq([
				260,1165,
			]+1000,inf), 1/2, 1,4),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
			\out, BusDef(\fx1, \audio),
			\amp, 0.08,
		),
				Pmono(\ronordn,
					\inbus, BusDef(\fx3, \audio),
					'wet10', 1.0,
					'mix', 0.05100840336134,
					'gain', 1.54454369503751,
					'fb', 0.2031 * Pseq([
						1,1,1,1/100,
					],inf),
					'delay', 0.000000394574653723,
					'delay2', 1.00000828221925227 * Pseg(Pseq([1/1000,1],inf),1/2),
					'delay3', 0.001001* Pseg(Pseq([1/1000,1],inf),1/2),
					'distamp', 0.42682721311638,
					'distamp2', 0.1,
					'distamp3', 8.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 60,
					\eqrq1b, 1.6,
					\eqdb1b, -11.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
				Pmono(\ronordn,
					\inbus, BusDef(\fx1, \audio),
					'wet10', 1.0,
					'mix', 0.26100840336134,
					'gain', 1.54454369503751,
					'fb', 0.2031 * Pseq([
						1,1,1,1/100,
					],inf),
					'delay', 0.000000394574653723,
					'delay2', 1.00000828221925227 * Pseg(Pseq([1/1000,1],inf),1/2),
					'delay3', 0.000001* Pseg(Pseq([1/1000,1],inf),1/2),
					'distamp', 0.42682721311638,
					'distamp2', 0.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 60,
					\eqrq1b, 0.6,
					\eqdb1b, -11.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
				Pmono(\ronordn,
					\inbus, BusDef(\fx2, \audio),
					'wet10', 1.0,
					'mix', 0.12100840336134,
					'gain', 1.84454369503751,
					'fb', 0.1801 * Pseq([
						1,1,1,1, 1,1,1,1/1000,
					],inf),
					'delay', 0.000100394574653723,
					'delay2', 0.00000828221925227 * Pseg(Pseq([1,10],inf),8),
					'delay3', 0.1001 * Pseq([1/1000,1,1,10],inf),
					'distamp', 0.22682721311638,
					'distamp2', 0.1,
					'distamp3', 1.0904517086311,
					'shift', -0.0,
					'shift2', -0.1344537815126,
					'shift3', -0.4789915966387,
					'shiftmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 1700,
					'hpf', 17,
					'stereo', 1.0,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.08504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 60,
					\eqrq1b, 0.6,
					\eqdb1b, 0.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
	])
)).play;
)

(
Pdef(\part, Pdef(\plop, 
	Ppar([
						Pbind(
							\instrument, \snapkickx,
							\bodyenv, [ Env.linen(0.001,0.01,0.1) ],
							\bodyfreqenv, [ Env([261, 64, 41], [0.035, 0.08], curve: \exp) ],
							\isRest, Pseq([
								1,0,0,0, 0,0,0,0,
								0,0,0,0, 0,0,0,0,
								1,0,0,0, 0,0,1,0,
								0,0,1,0, 0,0,1,0,
							],inf).coin.not,
							//\dur, 1/8 * Pseq([4/3,2/3],inf),
							\dur, 1/16,
							\amp, 0.2,
							\out, BusDef(\fx2),
						),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 5,
					\isRest, Pseq([
						0,0,0,0, 1,0,0,0,
					],inf).coin.not,
				\out, BusDef(\fx1, \audio),
					\sustain, 0.1,
					\gain, 0.4,
					\dur, 1/8,
				)),
			Pbind(
				\instrument, \phyhat3,
				\isRest, Pseq([
					1,0,1,0, 1,0,0,0, 
					1,0,1,0, 1,0,1,0, 
					1,0,1,1, 1,0,1,0, 
					1,0,1,0, 1,0,1,0, 
					1,0,0,0, 1,0,1,0, 
					1,0,1,0, 1,0,1,0, 
				],inf).coin.not,
				\sustain, Pseq([0.08,0.02],inf),
				\fac1, Pseq([2,0.5,0.7,0.5]*0.5,inf),
				\pan, Pseq([0.2,0.1,0,-0.1],inf),
				\fac1, Pseq([
					0.4, 0.1, 0.2, 0.1,
				],inf),
				\dur, 1/16,
				\out, BusDef(\fx3, \audio),
				//\dur, 1/16 * Pseq([4/3,2/3],inf).stutter(2),
				\pan, 0,
				\amp, 0.02,
			),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,3,0,0, 1,0,0,1,
				4,0,0,0, 3,0,0,1,
				1,1,1,0, 1,0,0,1,
				1,1,2,0, 3,0,0,1,
			],inf),
			\freq, ~pmodenv.(Pseq([
				60,60,560,465, 760,60,260,65,
			],inf), 1/8),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\out, BusDef(\fx1, \audio),
			\dur, 1/8,
			\amp, 0.08,
					\isRest, true,
		),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				2,0,
			],inf),
			\freq, ~pmodenv.(Pseq([
				260,1165,
			]+1000,inf), 1/2, 1,4),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
			\out, BusDef(\fx1, \audio),
			\isRest, true,
			\amp, 0.08,
		),
				Pmono(\ronordn,
					\inbus, BusDef(\fx3, \audio),
					'wet10', 1.0,
					'mix', 0.05100840336134,
					'gain', 1.54454369503751,
					'fb', 0.0031 * Pseq([
						1,1,1,1/100,
					],inf),
					'delay', 0.000000394574653723,
					'delay2', 0.10000828221925227 * Pseg(Pseq([1/1000,1],inf),1/2),
					'delay3', 0.001001* Pseg(Pseq([1/1000,1],inf),1/2),
					'distamp', 0.42682721311638,
					'distamp2', 0.1,
					'distamp3', 8.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 60,
					\eqrq1b, 1.6,
					\eqdb1b, -11.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
					\out, BusDef(\fx2_yup, \audio),
				),
				Pmono(\ronordn,
					\inbus, BusDef(\fx1, \audio),
					'wet10', 1.0,
					'mix', 0.26100840336134,
					'gain', 1.54454369503751,
					'fb', 0.02031 * Pseq([
						1,1,1,1/100,
					],inf),
					'delay', 0.000000394574653723,
					'delay2', 0.00100828221925227 * Pseg(Pseq([1/1000,1],inf),1/2),
					'delay3', 0.000001* Pseg(Pseq([1/1000,1],inf),1/2),
					'distamp', 0.42682721311638,
					'distamp2', 0.1,
					'distamp3', 1.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 60,
					\eqrq1b, 0.6,
					\eqdb1b, -11.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
					\out, BusDef(\fx2_yup, \audio),
				),
				Pmono(\ronoreal,
					\inbus, BusDef(\fx2, \audio),
					'wet10', 1.0,
					'mix', 0.82100840336134,
					'gain', 0.24454369503751,
					'fb', 0.1801 * Pseq([
						1,1,1,1, 1,1,1,1/1000,
					],inf),
					'delay', 0.000100394574653723,
					'delay2', 0.00110828221925227 * Pseg(Pseq([1],inf),8),
					'delay3', 0.00010001 * Pseq([1,1,1,1/10],inf),
					'distamp', 0.62682721311638,
					'distamp2', 0.1,
					'distamp3', 1.0904517086311,
					'shift', -0.0,
					'shift2', -0.1344537815126,
					'shift3', -0.4789915966387,
					'shiftmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 1700,
					'hpf', 17,
					'stereo', 1.0,
					'brffac', 0.10195390291997,
					'brfrqfac', 1.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.08504562572587,
					'indelay', 0.04,
					\ilpf, 2300,
					\ehpf, 20,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 30,
					\eqrq1b, 0.6,
					\eqdb1b, 4.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
					\out, BusDef(\fx2_yup, \audio),
				),
				Pmono(\ronoreal,
					\inbus, BusDef(\fx2_yup, \audio),
					'wet10', 1.0,
					'mix', 0.08100840336134,
					'gain', 0.84454369503751,
					'fb', 0.100001 * Pseq([
						1,1,1,1, 1,1,1
					],inf),
					'delay', 0.100100394574653723,
					'delay2', 0.40010828221925227 * Pseg(Pseq([1,1],inf),8),
					'delay3', 0.10010001 * Pseq([1,1,1,1],inf),
					'distamp', 1.12682721311638,
					'distamp2', 1.1,
					'distamp3', 0.1904517086311,
					'shift', -0.0,
					'shift2', -0.1344537815126,
					'shift3', -0.4789915966387,
					'shiftmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 1700,
					'hpf', 17,
					'stereo', 1.0,
					'brffac', 0.10195390291997,
					'brfrqfac', 1.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.08504562572587,
					'indelay', 0.04,
					\ilpf, 12300,
					\ehpf, 20,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 4230,
					\eqrq1b, 0.6,
					\eqdb1b, -0.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
	])
)).play;
)


(
Pdef(\part, Pdef(\plop, 
	Ppar([
						Pbind(
							\instrument, \snapkickx,
							\bodyenv, [ Env.linen(0.001,0.01,0.1) ],
							\bodyfreqenv, [ Env([261, 64, 41], [0.035, 0.08], curve: \exp) ],
							\isRest, Pseq([
								1,0,0,0, 0,0,0,0,
								0,0,0,0, 0,0,0,0,
								1,0,0,0, 0,0,1,0,
								0,0,1,0, 0,0,1,0,
								1,0,0,0, 1,0,0,0,
								0,0,0,0, 0,0,0,0,
								1,0,0,0, 0,0,1,0,
								0,0,1,0, 0,0,1,0,
							],inf).coin.not,
							//\dur, 1/8 * Pseq([4/3,2/3],inf),
							\dur, 1/16,
							\amp, 0.2,
							\out, BusDef(\fx2),
						),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 5,
					\isRest, Pseq([
						0,0,0,0, 1,0,0,0,
					],inf).coin.not,
				\out, BusDef(\fx1, \audio),
					\sustain, 0.1,
					\gain, 0.4,
					\lag, Pbrown Pseq([0,0.01],inf),
					\dur, 1/8,
				)),
				PatKitDef(\ksh2b).asPattern(Pbind(
					\kitIndex, 5,
					\isRest, Pseq([
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,1,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,

						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,1,0,1,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,1,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,

						0,0,0,0, 0,0,0,0, 0,0,0,1, 0,0,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,1,0, 0,0,0,0, 0,0,0,0, 0,0,1,0,

						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,1,0,0,
						0,0,1,0, 0,1,0,0, 0,0,0,0, 0,0,0,0,
					],inf).coin.not,
				\out, BusDef(\fx1, \audio),
					\sustain, 0.071,
					\gain, 0.1,
					\dur, 1/16,
				)),
			Pbind(
				\instrument, \phyhat3,
				\isRest, Pseq([
					1,0,1,0, 1,0,0,0, 
					1,0,1,0, 1,0,1,0, 
					1,0,1,1, 1,0,1,0, 
					1,0,1,0, 1,0,1,0, 
					1,0,0,0, 1,0,1,0, 
					1,0,1,0, 1,0,1,0, 
				],inf).coin.not,
				\sustain, Pseq([0.08,0.02],inf),
				\fac1, Pseq([2,0.5,0.7,0.5]*0.5,inf),
				\pan, Pseq([0.2,0.1,0,-0.1],inf),
				\fac1, Pseq([
					0.4, 0.1, 0.2, 0.1,
				],inf),
				\dur, 1/16,
				\out, BusDef(\fx3, \audio),
				//\dur, 1/16 * Pseq([4/3,2/3],inf).stutter(2),
				\pan, 0,
				\amp, 0.02,
			),
			Pbind(
				\instrument, \snapclap,
				\isRest, Pseq([
					Pseq([
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,1,0, 0,0,1,0, 0,0,0,1, 0,0,1,0, 

						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,0,0, 0,0,0,0, 0,0,0,0, 0,0,0,0,
						0,0,1,0, 0,0,1,0, 0,0,1,1, 0,1,1,0, 
						1,0,1,0, 0,1,1,0, 0,1,0,0, 1,0,1,0, 
					],inf),
				],inf).coin.not,
				\out, BusDef(\fx1, \audio),
				\dur, 1/16,
				\amp, 0.1,
			),
			Pbind(
				\instrument, \phyhat4,
				\isRest, Pseq([
					Pseq([
						0,0,0,0, 1,0,0,0, 
					],inf),
					0,0,0,0, 1,0,0,0, 0,0,0,0, 1,0,0,0,
					1,0,0,0, 0,0,0,0, 1,0,0,0, 1,0,0,0,
					1,0,0,0, 0,0,0,0, 0,0,0,0, 1,0,0,0,
					0,0,1,0, 0,0,0,0, 1,0,0,0, 1,0,0,0,
					1,0,0,0, 0,0,0,0, 0,0,0,0, 1,0,0,0,
				],inf).coin.not,
				\sustain, Pseq([0.08,0.02],inf),
				\fac1, Pseq([2,0.5,0.7,0.5]*0.5,inf),
				\pan, Pseq([0.2,0.1,0,-0.1],inf),
				\fac1, Pseq([
					0.4, 0.1, 0.2, 0.1,
				],inf),
				\dur, 1/16,
				\out, BusDef(\fx3, \audio),
				//\dur, 1/16 * Pseq([4/3,2/3],inf).stutter(2),
				\pan, 0,
				\amp, 0.02,
			),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				1,3,0,0, 1,0,0,1,
				4,0,0,0, 3,0,0,1,
				1,1,1,0, 1,0,0,1,
				1,1,2,0, 3,0,0,1,
			],inf),
			\freq, ~pmodenv.(Pseq([
				60,60,560,465, 760,60,260,65,
			],inf), 1/8),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\out, BusDef(\fx1, \audio),
			\dur, 1/8,
			\amp, 0.08,
					\isRest, true,
		),
		Pbind(
			\instrument, \fmz1,
			\note, Pseq([
				3,4,3,4,
				3,4,0,0,
			],inf),
			\legato, Pseq([
				2,0,
			],inf),
			\freq, ~pmodenv.(Pseq([
				260,1165,
			]+1000,inf), 1/2, 1,4),
			\adsr, Pseq([
				[ Env.adsr(0.1,0.1,1,0.05) ],
			],inf),
			\isRest, Pfunc({ arg ev; ev[\legato] <= 0 }),
			\hpfr, ~pmodenv.(Pseq([1,2,1/2,1/4],inf), 8),
			\octave, 3,
			\dur, 1/8,
			\out, BusDef(\fx1, \audio),
			\isRest, true,
			\amp, 0.08,
		),
				Pmono(\ronordn,
					\inbus, BusDef(\fx3, \audio),
					'wet10', 1.0,
					'mix', 0.05100840336134,
					'gain', 4.54454369503751,
					'fb', 0.0031 * Pseq([
						1,1,1,1/100,
					],inf),
					'delay', 0.000000394574653723,
					'delay2', 0.10000828221925227 * Pseg(Pseq([1/1000,1],inf),1/2),
					'delay3', 0.001001* Pseg(Pseq([1/1000,1],inf),1/2),
					'distamp', 0.42682721311638,
					'distamp2', 0.1,
					'distamp3', 8.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 60,
					\eqrq1b, 1.6,
					\eqdb1b, -11.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
					\out, BusDef(\fx2_yup, \audio),
				),
				Pmono(\ronordn,
					\inbus, BusDef(\fx1, \audio),
					'wet10', 1.0,
					'mix', 0.26100840336134,
					'gain', 1.04454369503751,
					'fb', 0.00531 * Pseq([
						1,1,1,1,
					],inf),
					'delay', 0.000000394574653723,
					'delay2', 0.00040828221925227 * Pseg(Pseq([1/1000,1],inf),1/2),
					'delay3', 0.000001* Pseg(Pseq([1/1000,1],inf),1/2),
					'distamp', 0.82682721311638,
					'distamp2', 2.1,
					'distamp3', 4.0904517086311,
					'shift', -5.0,
					'shift2', -1.1344537815126,
					'shift3', -2.4789915966387,
					'shiftmix', 0,
					'pitchlag', 1.0,
					'pitchmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 17000,
					'hpf', 17,
					'stereo', 0.0,
					'brffac', 0.60195390291997,
					'brfrqfac', 0.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.18504562572587,
					'indelay', 0.04,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 60,
					\eqrq1b, 0.6,
					\eqdb1b, -11.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
					\out, BusDef(\fx2_yup, \audio),
				),
				Pmono(\ronoreal,
					\inbus, BusDef(\fx2, \audio),
					'wet10', 1.0,
					'mix', 0.42100840336134,
					'gain', 1.44454369503751,
					'wetgain', 0.2504562572587,
					'fb', 0.1801 * Pseq([
						1,1,1,1, 1,1,1,1/1000,
					],inf),
					'delay', 0.000100394574653723,
					'delay2', 0.00110828221925227 * Pseg(Pseq([1],inf),8),
					'delay3', 0.00010001 * Pseq([1,1,1,1/10],inf),
					'distamp', 0.62682721311638,
					'distamp2', 0.1,
					'distamp3', 0.9904517086311,
					'shift', -0.0,
					'shift2', -0.1344537815126,
					'shift3', -0.4789915966387,
					'shiftmix', 0.0,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 1700,
					'hpf', 17,
					'stereo', 1.0,
					'brffac', 0.10195390291997,
					'brfrqfac', 1.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'indelay', 0.04,
					\ilpf, 2300,
					\ehpf, 200,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 30,
					\eqrq1b, 0.6,
					\eqdb1b, 4.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
					\out, BusDef(\fx2_yup, \audio),
				),
				Pmono(\ronoreal,
					\inbus, BusDef(\fx2_yup, \audio),
					'wet10', 1.0,
					'mix', 0.08100840336134,
					'gain', 0.84454369503751,
					'fb', 0.0500001 * Pseq([
						1,1,1,1, 1,1,1
					],inf),
					'delay', 0.100100394574653723,
					'delay2', 0.40010828221925227 * Pseg(Pseq([1,1],inf),8),
					'delay3', 0.10010001 * Pseq([1,1,1,1],inf),
					'distamp', 0.92682721311638,
					'distamp2', 0.1,
					'distamp3', 1.1904517086311,
					'shift', -0.0,
					'shift2', -0.1344537815126,
					'shift3', 0.4789915966387,
					'shiftmix', 0.8,
					'prelpf', 17000,
					'prehpf', 17,
					'lpf', 1700,
					'hpf', 17,
					'stereo', 1.0,
					'brffac', 0.10195390291997,
					'brfrqfac', 1.37940593233798,
					'fbdistamp', 0.47619047619048,
					'fbdistmix', 0.91176470588235,
					'postlpf', 17000,
					'posthpf', 117,
					'wetamp', 0.08504562572587,
					'indelay', 0.04,
					\ilpf, 18300,
					\elpf, 18300,
					\ehpf, 20,
					'wet20', 1.0,
					'mamp', 1,

					\eqmid1b, 4230,
					\eqrq1b, 0.6,
					\eqdb1b, -0.6,

					\freq, 200,
					\dur, 1/8 * Pseq([1],inf),
				),
	])
)).play;
)


(
Pdef(\part, Pdef(\plop, 
	Ppar([
		Pbind(
			\instrument, \default,
			\degree, Pseq([
				//Pindex([0,2,4], Pbrown(0,2,1,inf)),
				0,1,2,-1, 4,0,2,-2,
			],inf),
			\mtranspose, Pseq([
				Prout({ arg ev;
					Pseq((1..4)).do { arg jump;
						jump.debug("jump");
						Pseq((1..4)).do{ arg xx;
							xx.debug("xx");
							ev = ( Pseq((0..3)*jump,1) +.x Pseq([0,xx],1) ).trace.embedInStream;
						};
					};
					ev;
				}).loop,
			],inf).stutter(8)+0,
			//\ctranspose, Pseq([0,5,7,5],inf).stutter(8),
			//\root, Pseq([0,5,7,5],inf).stutter(8),
			//\root, 1,
			//\ctranspose, Pseq([0,3,4,3],inf).stutter(8),
			\ctranspose, 0,
			\octave, 4,
			\scale, Scale.minor,
			\legato, Pwhite(1/2,2.0) * Pseq([1,0.07],inf),
			\lag, Pbrown(0,0.05,0.001,inf),
			\isRest, Pseq([
				Plazy({ arg ev;
					Pseq({[
						1,1,1,1, 1,1,1,1,
						0,0,0,0, 0,0,0,0,
						0,0,0,0, 1,1,1,1, 
						1,1,1,1, 0,0,0,0,
						1,1,0,0, 1,1,0,0, 
						0,0,1,1, 0,0,1,1, 
						1,0,0,0, 0,0,0,0,
						1,0,0,0, 1,0,0,0,
						1,0,1,0, 1,0,1,0, 
						1,0,1,0, 1,1,1,0, 
						1,0,1,0, 1,0,1,1, 
						1,1,1,0, 1,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						0,0,0,0, 1,0,0,0, 
						1,0,0,0, 1,0,0,1,
						1,1,0,1, 1,0,1,0,
						1,0,1,0, 1,0,1,0,
						1,1,1,0, 1,1,0,0,
						1,0,1,0, 1,0,1,0,
						1,1,0,1, 1,0,1,1,
					].clump(8).choose}.dup((2..4).choose*2).flat,(1..4).choose)
				}).loop,
			],inf).coin.not,
			\isRest, Pseq([
				Plazy({ arg ev;
					Pseq({[
						1,0,1,0, 1,0,1,0, 
						1,0,1,0, 1,1,1,0, 
						1,0,1,0, 1,0,1,1, 
						1,1,1,0, 1,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						1,0,0,0, 1,0,0,1,
					].clump(8).choose}.dup((2..4).choose*2).flat,(1..4).choose)
				}).loop,
			],inf).coin.not,
			\dur, 1/16,
			\amp, 0.1,
		),
	])
)).play;
)

(
Pdef(\part, Pdef(\plop, 
	Ppar([
		Pbind(
			\instrument, \default,
			\degree, Pseq([
				//Pindex([0,2,4], Pbrown(0,2,1,inf)),
				0,1,2,-1, 4,0,2,-2,
			],inf),
			\mtranspose, Pseq([
				// algo chords moves
				Prout({ arg ev;
					Pseq((1..4)).do { arg jump;
						jump.debug("jump");
						Pseq((1..4)).do{ arg xx;
							xx.debug("xx");
							ev = ( Pseq([0,4]*jump,1) +.x Pseq([0,xx],1) ).trace.embedInStream;
						};
					};
					ev;
				}).loop,
			],inf).stutter(8)+0,
			//\ctranspose, Pseq([0,5,7,5],inf).stutter(8),
			//\root, Pseq([0,5,7,5],inf).stutter(8),
			//\root, 1,
			//\ctranspose, Pseq([0,3,4,3],inf).stutter(8),
			\ctranspose, 0,
			\octave, 4,
			\scale, Scale.minor,
			\legato, Pwhite(1/2,2.0) * Pseq([1,0.07],inf),
			\lag, Pbrown(0,0.05,0.001,inf),
			\isRest, Pseq([
				Plazy({ arg ev;
					Pseq({[
						1,1,1,1, 1,1,1,1,
						0,0,0,0, 0,0,0,0,
						0,0,0,0, 1,1,1,1, 
						1,1,1,1, 0,0,0,0,
						1,1,0,0, 1,1,0,0, 
						0,0,1,1, 0,0,1,1, 
						1,0,0,0, 0,0,0,0,
						1,0,0,0, 1,0,0,0,
						1,0,1,0, 1,0,1,0, 
						1,0,1,0, 1,1,1,0, 
						1,0,1,0, 1,0,1,1, 
						1,1,1,0, 1,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						0,0,0,0, 1,0,0,0, 
						1,0,0,0, 1,0,0,1,
						1,1,0,1, 1,0,1,0,
						1,0,1,0, 1,0,1,0,
						1,1,1,0, 1,1,0,0,
						1,0,1,0, 1,0,1,0,
						1,1,0,1, 1,0,1,1,
					].clump(8).choose}.dup((2..4).choose*2).flat,(1..4).choose)
				}).loop,
			],inf).coin.not,
			\isRest, Pseq([
				Plazy({ arg ev;
					Pseq({[
						1,0,1,0, 1,0,1,0, 
						1,0,1,0, 1,1,1,0, 
						1,0,1,0, 1,0,1,1, 
						1,1,1,0, 1,0,1,0, 
						0,0,1,0, 0,0,1,0, 
						1,0,0,0, 1,0,0,1,
					].clump(8).choose}.dup((2..4).choose*2).flat,(1..4).choose)
				}).loop,
			],inf).coin.not,
			\dur, 1/16,
			\amp, 0.1,
		),
	])
)).play;
)
